<!doctype html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
        <title>cachable-ajax Demo</title>

        <script src="../platform/platform.js"></script>
        <link rel="import" href="cachable-ajax.html">

    </head>
    <body unresolved>

        <cachable-ajax auto url="//gdata.youtube.com/feeds/api/videos/" 
                        params='{"alt":"json", "q":"chrome"}'
                        handleAs="json"></cachable-ajax>

        <template repeat="{{response.feed.entry}}">
            <div>{{title.$t}}</div>
        </template>

        <script>
            document.addEventListener('polymer-ready', function() {
                var ajax = document.querySelector("cachable-ajax");
                ajax.addEventListener("core-response", 
                                      function(e) {
                    document.querySelector('template').model = {
                        response: e.detail.response
                    };
                }
                                     );
            });
        </script>

    </body>
</html>
